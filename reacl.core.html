<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>reacl.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Reacl 1.4.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reacl</span></div></div></li><li class="depth-2 branch current"><a href="reacl.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="reacl.dom.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dom</span></div></a></li><li class="depth-2 branch"><a href="reacl.test-util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>test-util</span></div></a></li><li class="depth-2"><a href="reacl.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="reacl.core.html#var-class"><div class="inner"><span>class</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-create-class"><div class="inner"><span>create-class</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-defclass"><div class="inner"><span>defclass</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-defview"><div class="inner"><span>defview</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-embed"><div class="inner"><span>embed</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-event-handler"><div class="inner"><span>event-handler</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-extract-current-app-state"><div class="inner"><span>extract-current-app-state</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-extract-initial-app-state"><div class="inner"><span>extract-initial-app-state</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-has-class.3F"><div class="inner"><span>has-class?</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-instantiate-toplevel"><div class="inner"><span>instantiate-toplevel</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-invoke-reaction"><div class="inner"><span>invoke-reaction</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-mixin"><div class="inner"><span>mixin</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-mixin-methods"><div class="inner"><span>mixin-methods</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-no-reaction"><div class="inner"><span>no-reaction</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-opt-set-state.21"><div class="inner"><span>opt-set-state!</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-pass-through-reaction"><div class="inner"><span>pass-through-reaction</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-react-class"><div class="inner"><span>react-class</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-reaction"><div class="inner"><span>reaction</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-render-component"><div class="inner"><span>render-component</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-return"><div class="inner"><span>return</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-send-message.21"><div class="inner"><span>send-message!</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-set-state.21"><div class="inner"><span>set-state!</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-specials"><div class="inner"><span>specials</span></div></a></li><li class="depth-1"><a href="reacl.core.html#var-view"><div class="inner"><span>view</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">reacl.core</h2><div class="doc"><div class="markdown"><p>Reacl core functionality.</p></div></div><div class="public anchor" id="var-class"><h3>class</h3><h4 class="type">macro</h4><div class="usage"><code>(class ?name &amp; ?stuff)</code></div><div class="doc"><div class="markdown"><p>Create a Reacl class.</p><p>The syntax is</p>
<pre><code>(reacl.core/class &lt;name&gt; [&lt;this-name&gt; [&lt;app-state-name&gt; [&lt;local-state-name&gt;]]] [&lt;param&gt; ...]
  render &lt;renderer-exp&gt;
  [initial-state &lt;initial-state-exp&gt;]
  [local [&lt;local-name&gt; &lt;local-expr&gt;]]
  [handle-message &lt;messager-handler-exp&gt;]
  [&lt;lifecycle-method-name&gt; &lt;lifecycle-method-exp&gt; ...])
</code></pre><p><code>&lt;name&gt;</code> is a name for the class, for debugging purposes.</p><p>A number of names are bound in the various expressions in the body of reacl.core/class:</p>
<ul>
  <li><code>&lt;this-name&gt;</code> is bound to the component object itself</li>
  <li><code>&lt;app-state-name&gt;</code> is bound to the global application state</li>
  <li><code>&lt;local-state-name&gt;</code> is bound to the component-local state</li>
  <li>the <code>&lt;param&gt;</code> &hellip; names are the explicit arguments of instantiations</li>
</ul><p>A <code>local</code> clause allows binding additional local variables upon instantiation. The syntax is analogous to <code>let</code>.</p><p><code>&lt;renderer-exp&gt;</code> is an expression that renders the component, and hence must return a virtual dom node.</p><p>The <code>handle-message</code> function accepts a message sent to the component via <a href="reacl.core.html#var-send-message.21">reacl.core/send-message!</a>. It&rsquo;s expected to return a value specifying a new application state and/or component-local state, via <a href="reacl.core.html#var-return">reacl.core/return</a>.</p><p>A class can be invoked to yield a component as a function as follows:</p><p><code>(&lt;class&gt; &lt;app-state&gt; &lt;reaction&gt; &lt;arg&gt; ...)</code></p><p>In this invocation, the value of <code>&lt;app-state&gt;</code> will be the initial app state, <code>&lt;reaction&gt;</code> must evaluate to a <em>reaction</em> (see <a href="null">reacl.core.reaction</a>) that gets invoked when the component&rsquo;s app state changes, and the <code>&lt;arg&gt;</code>s get evaluated to the <code>&lt;param&gt;</code>s.</p><p>A lifecycle method can be one of:</p><p><code>component-will-mount</code> <code>component-did-mount</code>  <code>component-will-receive-args</code> <code>should-component-update?</code>  <code>component-will-update</code> <code>component-did-update</code> <code>component-will-unmount</code></p><p>These correspond to React&rsquo;s lifecycle methods, see here:</p><p><a href="http://facebook.github.io/react/docs/component-specs.html">http://facebook.github.io/react/docs/component-specs.html</a></p><p>(<code>component-will-receive-args</code> is similar to <code>componentWillReceiveProps</code>.)</p><p>Each right-hand-side <code>&lt;lifecycle-method-exp&gt;</code>s should evaluate to a function. The arguments, which slightly differ from the corresponding React methods, can be seen in the following list:</p><p><code>(component-will-mount)</code> The component can send itself messages in this method, or optionally return a new state via <a href="reacl.core.html#var-return">reacl.core/return</a>. If that changes the state, the component will only render once.</p><p><code>(component-did-mount)</code> The component can update it&rsquo;s DOM in this method.</p><p><code>(component-will-receive-args next-arg1 next-arg2 ...)</code> The component has the chance to update it&rsquo;s local state in this method by sending itself a message or optionally return a new state via <a href="reacl.core.html#var-return">reacl.core/return</a>.</p><p><code>(should-component-update? next-app-state next-local-state next-arg1
next-arg2 ...)</code> This method should return if the given new values should cause an update of the component (if render should be evaluated again). If it&rsquo;s not specified, a default implementation will do a (=) comparison with the current values. Implement this, if you want to prevent an update on every app-state change for example.</p><p><code>(component-will-update next-app-state next-local-state next-arg1 next-arg2 ...)</code> Called immediately before an update.</p><p><code>(component-did-update prev-app-state prev-local-state prev-arg1 prev-arg2 ...)</code> Called immediately after an update. The component can update it&rsquo;s DOM here.</p><p><code>(component-will-unmount)</code> The component can cleanup it&rsquo;s DOM here for example.</p><p>Example:</p><p>(defrecord New-text [text])  (defrecord Submit [])  (defrecord Change [todo])</p><p>(reacl/defclass to-do-app  this app-state local-state []  render  (dom/div  (dom/h3 &ldquo;TODO&rdquo;)  (dom/div (map (fn [todo]  (dom/keyed (str (:id todo))  (to-do-item  todo  (reacl/reaction this -&gt;Change)  this)))  (:todos app-state)))  (dom/form  {:onSubmit (fn [e _]  (.preventDefault e)  (reacl/send-message! this (Submit.)))}  (dom/input {:onChange  (fn [e]  (reacl/send-message!  this  (New-text. (.. e -target -value))))  :value local-state})  (dom/button  (str &ldquo;Add #&rdquo; (:next-id app-state)))))</p>
<pre><code>initial-state &quot;&quot;

handle-message
(fn [msg]
  (cond
   (instance? New-text msg)
   (reacl/return :local-state (:text msg))

   (instance? Submit msg)
   (let [next-id (:next-id app-state)]
     (reacl/return :local-state &quot;&quot;
                   :app-state
                   (assoc app-state
                     :todos
                     (concat (:todos app-state)
                             [(Todo. next-id local-state false)])
                     :next-id (+ 1 next-id))))

   (instance? Delete msg)
   (let [id (:id (:todo msg))]
     (reacl/return :app-state
                   (assoc app-state
                     :todos 
                     (remove (fn [todo] (= id (:id todo)))
                             (:todos app-state)))))

   (instance? Change msg)
   (let [changed-todo (:todo msg)
         changed-id (:id changed-todo)]
     (reacl/return :app-state
                   (assoc app-state
                     :todos (mapv (fn [todo]
                                    (if (= changed-id (:id todo) )
                                      changed-todo
                                      todo))
                                  (:todos app-state))))))))
</code></pre></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.clj#L24">view source</a></div></div><div class="public anchor" id="var-create-class"><h3>create-class</h3><div class="usage"><code>(create-class display-name mixins compute-locals fns)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L438">view source</a></div></div><div class="public anchor" id="var-defclass"><h3>defclass</h3><h4 class="type">macro</h4><div class="usage"><code>(defclass ?name &amp; ?stuff)</code></div><div class="doc"><div class="markdown"><p>Define a Reacl class, see <a href="reacl.core.html#var-class">class</a> for documentation.</p><p>The syntax is</p>
<pre><code>(reacl.core/defclass &lt;name&gt; [&lt;this-name&gt; [&lt;app-state-name&gt; [&lt;local-state-name&gt;]]] [&lt;param&gt; ...]
  render &lt;renderer-exp&gt;
  [initial-state &lt;initial-state-exp&gt;]
  [&lt;lifecycle-method-name&gt; &lt;lifecycle-method-exp&gt; ...]
  [handle-message &lt;messager-handler-exp&gt;]

  &lt;event-handler-name&gt; &lt;event-handler-exp&gt; ...)
</code></pre><p>This expands to this:</p>
<pre><code>(def &lt;name&gt;
  (reacl.core/class &lt;name&gt; [&lt;this-name&gt; [&lt;app-state-name&gt; [&lt;local-state-name&gt;]]] [&lt;param&gt; ...]
    render &lt;renderer-exp&gt;
    [initial-state &lt;initial-state-exp&gt;]
    [&lt;lifecycle-method-name&gt; &lt;lifecycle-method-exp&gt; ...]
    [handle-message &lt;messager-handler-exp&gt;]

    &lt;event-handler-name&gt; &lt;event-handler-exp&gt; ...))
</code></pre></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.clj#L252">view source</a></div></div><div class="public anchor" id="var-defview"><h3>defview</h3><h4 class="type">macro</h4><div class="usage"><code>(defview ?name &amp; ?stuff)</code></div><div class="doc"><div class="markdown"><p>Define a Reacl view, see <a href="reacl.core.html#var-view">view</a> for documentation.</p><p>The syntax is</p>
<pre><code>(reacl.core/defview &lt;name&gt; [&lt;this-name&gt; [&lt;local-state-name&gt;]] [&lt;param&gt; ...]
  render &lt;renderer-exp&gt;
  [initial-state &lt;initial-state-exp&gt;]
  [&lt;lifecycle-method-name&gt; &lt;lifecycle-method-exp&gt; ...]
  [handle-message &lt;messager-handler-exp&gt;]

  &lt;event-handler-name&gt; &lt;event-handler-exp&gt; ...)
</code></pre><p>This expands to this:</p>
<pre><code>(def &lt;name&gt;
  (reacl.core/view &lt;name&gt; [&lt;this-name&gt; [&lt;local-state-name&gt;]] [&lt;param&gt; ...]
    render &lt;renderer-exp&gt;
    [initial-state &lt;initial-state-exp&gt;]
    [&lt;lifecycle-method-name&gt; &lt;lifecycle-method-exp&gt; ...]
    [handle-message &lt;messager-handler-exp&gt;]

    &lt;event-handler-name&gt; &lt;event-handler-exp&gt; ...))
</code></pre></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.clj#L359">view source</a></div></div><div class="public anchor" id="var-embed"><h3>embed</h3><div class="usage"><code>(embed clazz app-state reaction &amp; args)</code></div><div class="doc"><div class="markdown"><p>Embed a Reacl component.</p><p>This creates a component with its own application state that can be embedded in a surrounding application. Any changes to the app state lead to the callback being invoked.</p>
<ul>
  <li><code>clazz</code> is the Reacl class.</li>
  <li><code>app-state</code> is the application state.</li>
  <li><code>reaction</code> is a reaction invoked with a new app state on changes; see <a href="reacl.core.html#var-reaction">reaction</a>.</li>
  <li><code>args</code> are the arguments to the component.</li>
</ul></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L299">view source</a></div></div><div class="public anchor" id="var-event-handler"><h3>event-handler</h3><div class="usage"><code>(event-handler f)</code></div><div class="doc"><div class="markdown"><p>Create a Reacl event handler from a function.</p><p><code>f</code> must be a function that returns a return value created by <a href="reacl.core.html#var-return">reacl.core/return</a>, with a new application state and/or component-local state.</p><p><a href="reacl.core.html#var-event-handler">reacl.core/event-handler</a> turns that function <code>f</code> into an event handler, that is, a function that sets the new application state and/or component-local state. <code>f</code> gets passed any argument the event handler gets passed, plus, as its last argument, the component-local state.</p><p>This example event handler can be used with onSubmit, for example:</p>
<pre><code>(reacl/event-handler
 (fn [e _ text]
   (.preventDefault e)
   (reacl/return :app-state (concat todos [{:text text :done? false}])
                 :local-state &quot;&quot;)))
</code></pre><p>Note that <code>text</code> is the component-local state.</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L361">view source</a></div></div><div class="public anchor" id="var-extract-current-app-state"><h3>extract-current-app-state</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L79">view source</a></div></div><div class="public anchor" id="var-extract-initial-app-state"><h3>extract-initial-app-state</h3><div class="usage"><code>(extract-initial-app-state this)</code></div><div class="doc"><div class="markdown"><p>Extract initial applications state from a Reacl component.</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L44">view source</a></div></div><div class="public anchor" id="var-has-class.3F"><h3>has-class?</h3><div class="usage"><code>(has-class? clazz element)</code></div><div class="doc"><div class="markdown"><p>Find out if an element was generated from a certain Reacl class.</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L222">view source</a></div></div><div class="public anchor" id="var-instantiate-toplevel"><h3>instantiate-toplevel</h3><div class="usage"><code>(instantiate-toplevel clazz app-state &amp; args)</code></div><div class="doc"><div class="markdown"><p>Instantiate a Reacl component at the top level.</p>
<ul>
  <li><code>clazz</code> is the Reacl class.</li>
  <li><code>app-state</code> is the application state</li>
  <li><code>args</code> are the arguments to the component.</li>
</ul></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L274">view source</a></div></div><div class="public anchor" id="var-invoke-reaction"><h3>invoke-reaction</h3><div class="usage"><code>(invoke-reaction reaction value)</code></div><div class="doc"><div class="markdown"><p>Invokes the given reaction with the given message value (usually an app-state).</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L175">view source</a></div></div><div class="public anchor" id="var-mixin"><h3>mixin</h3><h4 class="type">macro</h4><div class="usage"><code>(mixin &amp; ?stuff)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.clj#L390">view source</a></div></div><div class="public anchor" id="var-mixin-methods"><h3>mixin-methods</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L626">view source</a></div></div><div class="public anchor" id="var-no-reaction"><h3>no-reaction</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Use this as a reaction if you don&rsquo;t want to react to an app-state change.</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L149">view source</a></div></div><div class="public anchor" id="var-opt-set-state.21"><h3>opt-set-state!</h3><div class="usage"><code>(opt-set-state! component v)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L418">view source</a></div></div><div class="public anchor" id="var-pass-through-reaction"><h3>pass-through-reaction</h3><div class="usage"><code>(pass-through-reaction component)</code></div><div class="doc"><div class="markdown"><p>Use this if you want to pass the app-state as the message.</p><p><code>component</code> must be the component to send the message to</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L153">view source</a></div></div><div class="public anchor" id="var-react-class"><h3>react-class</h3><div class="usage"><code>(react-class clazz)</code></div><div class="doc"><div class="markdown"><p>Extract the React class from a Reacl class.</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L217">view source</a></div></div><div class="public anchor" id="var-reaction"><h3>reaction</h3><div class="usage"><code>(reaction component make-message &amp; args)</code></div><div class="doc"><div class="markdown"><p>A reaction that says how to deal with a new app state in a subcomponent.</p>
<ul>
  <li><code>component</code> component to send a message to</li>
  <li><code>make-message</code> function to apply to the new app state and any additional <code>args</code>, to make the message.</li>
</ul><p>Common specialized reactions are <a href="reacl.core.html#var-no-reaction">no-reaction</a> and <a href="reacl.core.html#var-pass-through-reaction">pass-through-reaction</a>.</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L161">view source</a></div></div><div class="public anchor" id="var-render-component"><h3>render-component</h3><div class="usage"><code>(render-component element clazz &amp; args)</code></div><div class="doc"><div class="markdown"><p>Instantiate and render a component into the DOM.</p>
<ul>
  <li><code>element</code> is the DOM element</li>
  <li><code>clazz</code> is the Reacl clazz or view</li>
  <li><code>args</code> are the arguments of the component,  which must start with the application state if <code>clazz</code> is a class.</li>
</ul></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L283">view source</a></div></div><div class="public anchor" id="var-return"><h3>return</h3><div class="usage"><code>(return &amp; args)</code></div><div class="doc"><div class="markdown"><p>Return state from a Reacl event handler.</p><p>Has two optional keyword arguments:</p>
<ul>
  <li><code>:app-state</code> is for a new app state.</li>
  <li><code>:local-state</code> is for a new component-local state.</li>
</ul><p>A state can be set to nil. To keep a state unchanged, do not specify that option, or specify the value <a href="null">reacl.core/keep-state</a>.</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L333">view source</a></div></div><div class="public anchor" id="var-send-message.21"><h3>send-message!</h3><div class="usage"><code>(send-message! comp msg)</code></div><div class="doc"><div class="markdown"><p>Send a message to a Reacl component.</p><p>Returns the <code>State</code> object returned by the message handler.</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L409">view source</a></div></div><div class="public anchor" id="var-set-state.21"><h3>set-state!</h3><div class="usage"><code>(set-state! component ps)</code></div><div class="doc"><div class="markdown"><p>Set the app state and component state according to what return returned.</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L353">view source</a></div></div><div class="public anchor" id="var-specials"><h3>specials</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.cljs#L424">view source</a></div></div><div class="public anchor" id="var-view"><h3>view</h3><h4 class="type">macro</h4><div class="usage"><code>(view ?name &amp; ?stuff)</code></div><div class="doc"><div class="markdown"><p>Create a Reacl view, which is like a class, but exposes no state (applications state).  Views can be instantiated in the same way as virtual dom elements.</p><p>The syntax is</p>
<pre><code>(reacl.core/view &lt;name&gt; [&lt;this-name&gt; [&lt;local-state-name&gt;]] [&lt;param&gt; ...]
  render &lt;renderer-exp&gt;
  [initial-state &lt;initial-state-exp&gt;]
  [local [&lt;local-name&gt; &lt;local-expr&gt;]]
  [handle-message &lt;messager-handler-exp&gt;]
  [&lt;lifecycle-method-name&gt; &lt;lifecycle-method-exp&gt; ...])
</code></pre><p><code>&lt;name&gt;</code> is a name for the view, for debugging purposes.</p><p>A number of names are bound in the various expressions in the body of reacl.core/class:</p>
<ul>
  <li><code>&lt;this-name&gt;</code> is bound to the component object itself</li>
  <li><code>&lt;local-state-name&gt;</code> is bound to the component-local state</li>
  <li>the <code>&lt;param&gt;</code> &hellip; names are the explicit arguments of instantiations</li>
</ul><p>The <code>local</code> and <code>&lt;renderer-exp&gt;</code> clauses are identical to those of the <a href="reacl.core.html#var-class">class</a> macro.</p><p>The <code>handle-message</code> function accepts a message sent to the component via <a href="reacl.core.html#var-send-message.21">reacl.core/send-message!</a>. It&rsquo;s expected to return a value specifying a new component-local state, via <a href="reacl.core.html#var-return">reacl.core/return</a>. Specifying an <code>:app-state</code> clause in <a href="reacl.core.html#var-return">reacl.core/return</a> is not allowed.</p><p>A view can be invoked to yield a component as a function as follows:</p><p><code>(&lt;view&gt; &lt;arg&gt; ...)</code></p><p>A lifecycle method can be one of:</p><p><code>component-will-mount</code> <code>component-did-mount</code>  <code>component-will-receive-args</code> <code>should-component-update?</code>  <code>component-will-update</code> <code>component-did-update</code> <code>component-will-unmount</code></p><p>The methods <code>component-did-mount</code> and <code>component-will-unmount</code> are the same as for classes. The methods <code>component-will-mount</code> and <code>component-will-receive-args</code> have the same arguments as for classes, but only the local component state may be updated by them.</p><p>The methods <code>should-component-update?</code>, <code>component-did-update</code> and <code>component-will-unmount</code> are similar to those of <a href="reacl.core.html#var-class">class</a>, without the application state arguments. Specifically:</p>
<ul>
  <li><p><code>(should-component-update? next-local-state next-arg1 next-arg2 ...)</code></p></li>
  <li><p><code>(component-did-update prev-local-state prev-arg1 prev-arg2 ...)</code></p></li>
  <li><p><code>(component-will-update next-local-state next-arg1 next-arg2 ...)</code></p></li>
</ul></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/core.clj#L278">view source</a></div></div></div></body></html>