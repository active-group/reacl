<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>reacl.test-util documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Reacl 1.0.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reacl</span></div></div></li><li class="depth-2 branch"><a href="reacl.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="reacl.dom.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dom</span></div></a></li><li class="depth-2 branch current"><a href="reacl.test-util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>test-util</span></div></a></li><li class="depth-2"><a href="reacl.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="reacl.test-util.html#var-after"><div class="inner"><span>after</span></div></a></li><li class="depth-1"><a href="reacl.test-util.html#var-instantiate.26mount"><div class="inner"><span>instantiate&amp;mount</span></div></a></li><li class="depth-1"><a href="reacl.test-util.html#var-no-check"><div class="inner"><span>no-check</span></div></a></li><li class="depth-1"><a href="reacl.test-util.html#var-render-to-text"><div class="inner"><span>render-to-text</span></div></a></li><li class="depth-1"><a href="reacl.test-util.html#var-simulate"><div class="inner"><span>simulate</span></div></a></li><li class="depth-1"><a href="reacl.test-util.html#var-test-class*"><div class="inner"><span>test-class*</span></div></a></li><li class="depth-1"><a href="reacl.test-util.html#var-the-app-state"><div class="inner"><span>the-app-state</span></div></a></li><li class="depth-1"><a href="reacl.test-util.html#var-the-dom"><div class="inner"><span>the-dom</span></div></a></li><li class="depth-1"><a href="reacl.test-util.html#var-the-local-state"><div class="inner"><span>the-local-state</span></div></a></li><li class="depth-1"><a href="reacl.test-util.html#var-with-testing-class*"><div class="inner"><span>with-testing-class*</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">reacl.test-util</h2><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-after"><h3>after</h3><div class="usage"><code>(after message &amp; checks)</code></div><div class="doc"><div class="markdown"><p>Creates an interaction the sends the given message to the tested component, and performs the given checks afterwards. Should be used in the context a <a href="null">testing-class*</a> call.</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/test_util.cljs#L53">view source</a></div></div><div class="public anchor" id="var-instantiate.26mount"><h3>instantiate&amp;mount</h3><div class="usage"><code>(instantiate&amp;mount clazz app-state &amp; args)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/test_util.cljs#L11">view source</a></div></div><div class="public anchor" id="var-no-check"><h3>no-check</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>An empty check that does nothing.</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/test_util.cljs#L73">view source</a></div></div><div class="public anchor" id="var-render-to-text"><h3>render-to-text</h3><div class="usage"><code>(render-to-text dom)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/test_util.cljs#L6">view source</a></div></div><div class="public anchor" id="var-simulate"><h3>simulate</h3><div class="usage"><code>(simulate f &amp; checks)</code></div><div class="doc"><div class="markdown"><p>Creates an interaction, that will call <code>f</code> with the React.addons.TestUtils.Simulate object and the dom node of the tested component. The simulator object has methods like <code>click</code> that you can call to dispatch a DOM event. The given checks are performed afterwards.</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/test_util.cljs#L62">view source</a></div></div><div class="public anchor" id="var-test-class*"><h3>test-class*</h3><div class="usage"><code>(test-class* clazz app-state &amp; args)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/test_util.cljs#L16">view source</a></div></div><div class="public anchor" id="var-the-app-state"><h3>the-app-state</h3><div class="usage"><code>(the-app-state f)</code></div><div class="doc"><div class="markdown"><p>Create a check on the app-state, by calling the given function f with the app-state at that time. Should be used in the context a <a href="null">testing-class*</a> call.</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/test_util.cljs#L78">view source</a></div></div><div class="public anchor" id="var-the-dom"><h3>the-dom</h3><div class="usage"><code>(the-dom f)</code></div><div class="doc"><div class="markdown"><p>Create a check on the dom rendered by a component, by calling the given function f with the dom-node at that time. Should be used in the context a <a href="null">testing-class*</a> call.</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/test_util.cljs#L94">view source</a></div></div><div class="public anchor" id="var-the-local-state"><h3>the-local-state</h3><div class="usage"><code>(the-local-state f)</code></div><div class="doc"><div class="markdown"><p>Create a check on the local-state, by calling the given function f with the local-state at that time. Should be used in the context a <a href="null">testing-class*</a> call.</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/test_util.cljs#L86">view source</a></div></div><div class="public anchor" id="var-with-testing-class*"><h3>with-testing-class*</h3><div class="usage"><code>(with-testing-class* [clazz init-app-state &amp; args] initial-check &amp; interactions)</code></div><div class="doc"><div class="markdown"><p>Instantiates the given class with an initial app-state and arguments, performs the initial-check and all given interactions.</p><p>A &lsquo;check&rsquo; is a function taking a function to retrieve the current app-state and a function retrieving the current dom node as rendered by the class - see <a href="reacl.test-util.html#var-the-app-state">the-app-state</a> and <a href="reacl.test-util.html#var-the-dom">the-dom</a> to create usual checks.</p><p>An &lsquo;interaction&rsquo; is a function taking a function to send a message to the component, and returning a sequence of checks - see <a href="reacl.test-util.html#var-after">after</a> to create a usual interaction.</p><p>Note that check implementations should usually contain clojure-test assertions. A common pattern could be:</p><p>(with-testing-class* [my-class nil &ldquo;en&rdquo;]  (the-dom #(is (= &ldquo;Hello World&rdquo; (.-innerText %))))  (after (set-lang-message &ldquo;de&rdquo;)  (the-dom #(is (= &ldquo;Hallo Welt&rdquo; (.-innerText %))))))</p></div></div><div class="src-link"><a href="http://github.com/active-group/reacl/blob/master/src/reacl/test_util.cljs#L25">view source</a></div></div></div></body></html>